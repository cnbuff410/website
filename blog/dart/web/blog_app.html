<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_icon_button.html">
<link rel="import" href="packages/core_elements/core_toolbar.html">
<link rel="import" href="packages/core_elements/core_header_panel.html">
<link rel="import" href="packages/core_elements/core_animated_pages.html">
<link rel="import" href="packages/core_elements/core_transition_css.html">
<link rel="import" href="post_card.html">

<polymer-element name="blog-app">
    <template>
        <style>
            #pages {
                width: 100%;
                height: 100%;
                overflow: auto;
                margin-bottom: 50px;
            }
            
            postcard:first-of-type {
                margin-top: 50px;
            }
            
            postcard:last-f-type {
                margin-bottom: 50px;
            }
            
            div.postcard {
                width: 100%;
                height: 80px;
                margin: 2em auto;
                cursor: pointer;               
            }

            div.postcard .small {
                font-size: 1px;
            }
        </style>
        
        <core-toolbar id="core_toolbar">
            <a href="http://www.kunli.me">
                <core-icon-button icon="home" id="home-button">
                </core-icon-button>
            </a>
            <div id="div">Offline Log</div>
            <span flex></span>
            <a href="http://blog.kunli.me/rss" target="_blank">
                <core-icon-button
                    src="http://upload.wikimedia.org/wikipedia/commons/4/46/Generic_Feed-icon.svg"
                    id="rss-button">
                </core-icon-button>
            </a>
            <core-icon-button icon="more-vert" id="more-button"></core-icon-button>
        </core-toolbar>
        <div id="pages" flex>
            <template repeat="{{post in posts | enumerate}}">
              <div class="postcard" id="post-{{post.index}}" on-tap="{{selectPost}}">
                  <post-card postTitle="{{post.value['title']}}" date="{{post.value['date']}}">
                  </post-card>
              </div>
            </template>
        </div>
    </template>

    <script type="application/dart" src="blog_app.dart"></script>
</polymer-element>
